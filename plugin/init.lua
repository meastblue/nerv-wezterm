local wezterm = require("wezterm")

local M = {}

local colors = {
	["qadr-fajr"] = {
		rosewater = "#FF738A",
		flamingo = "#FF955C",
		pink = "#F38CEC",
		mauve = "#B78AFF",
		red = "#E35535",
		maroon = "#FF738A",
		peach = "#FF955C",
		yellow = "#EACD61",
		green = "#3CEC85",
		teal = "#22ECDB",
		sky = "#69C3FF",
		sapphire = "#69C3FF",
		blue = "#69C3FF",
		lavender = "#B78AFF",
		text = "#d0d7e4",
		subtext1 = "#aebbd3",
		subtext0 = "#9eadca",
		overlay2 = "#7d91b8",
		overlay1 = "#5c76a6",
		overlay0 = "#495e85",
		surface2 = "#374764",
		surface1 = "#2e3b54",
		surface0 = "#253043",
		base = "#1c2433",
		mantle = "#181f2c",
		crust = "#151b26",
		accent = "#8196b5",
	},
	["qadr-layl"] = {
		rosewater = "#FF738A",
		flamingo = "#FF955C",
		pink = "#F38CEC",
		mauve = "#B78AFF",
		red = "#E35535",
		maroon = "#FF738A",
		peach = "#FF955C",
		yellow = "#EACD61",
		green = "#3CEC85",
		teal = "#22ECDB",
		sky = "#69C3FF",
		sapphire = "#69C3FF",
		blue = "#69C3FF",
		lavender = "#B78AFF",
		text = "#d8dde7",
		subtext1 = "#b8c2d4",
		subtext0 = "#a8b5ca",
		overlay2 = "#8899b7",
		overlay1 = "#697ea4",
		overlay0 = "#526587",
		surface2 = "#3f4e68",
		surface1 = "#354258",
		surface0 = "#2c3648",
		base = "#222A38",
		mantle = "#1e2532",
		crust = "#1a202b",
		accent = "#9DACC3",
	},
	["qadr-najm"] = {
		rosewater = "#FF738A",
		flamingo = "#FF955C",
		pink = "#F38CEC",
		mauve = "#B78AFF",
		red = "#E35535",
		maroon = "#FF738A",
		peach = "#FF955C",
		yellow = "#EACD61",
		green = "#3CEC85",
		teal = "#22ECDB",
		sky = "#69C3FF",
		sapphire = "#69C3FF",
		blue = "#69C3FF",
		lavender = "#B78AFF",
		text = "#bcc1dc",
		subtext1 = "#99a2cc",
		subtext0 = "#8893c4",
		overlay2 = "#6673b3",
		overlay1 = "#4c5a99",
		overlay0 = "#3b4677",
		surface2 = "#2b3255",
		surface1 = "#222844",
		surface0 = "#1a1e33",
		base = "#111422",
		mantle = "#0e101b",
		crust = "#0a0c14",
		accent = "#8eb0e6",
	},
	["orbital-terra"] = {
		rosewater = "#ff6188",
		flamingo = "#fc9867",
		pink = "#e991e3",
		mauve = "#ab9df2",
		red = "#fc6a67",
		maroon = "#ff6188",
		peach = "#fc9867",
		yellow = "#ffd866",
		green = "#a9dc76",
		teal = "#78e8c6",
		sky = "#78dce8",
		sapphire = "#78dce8",
		blue = "#78dce8",
		lavender = "#ab9df2",
		text = "#d9d6db",
		subtext1 = "#bfbac4",
		subtext0 = "#b2acb8",
		overlay2 = "#9991a1",
		overlay1 = "#7f7589",
		overlay0 = "#665e6e",
		surface2 = "#4c4652",
		surface1 = "#403a45",
		surface0 = "#332f37",
		base = "#262329",
		mantle = "#211e23",
		crust = "#1c1a1e",
		accent = "#b0a2a6",
	},
	["orbital-steel"] = {
		rosewater = "#ff6188",
		flamingo = "#fc9867",
		pink = "#e991e3",
		mauve = "#ab9df2",
		red = "#fc6a67",
		maroon = "#ff6188",
		peach = "#fc9867",
		yellow = "#ffd866",
		green = "#a9dc76",
		teal = "#78e8c6",
		sky = "#78dce8",
		sapphire = "#78dce8",
		blue = "#78dce8",
		lavender = "#ab9df2",
		text = "#d0d3de",
		subtext1 = "#b2b7c9",
		subtext0 = "#a3a9bf",
		overlay2 = "#858daa",
		overlay1 = "#677294",
		overlay0 = "#525b76",
		surface2 = "#3d4458",
		surface1 = "#333849",
		surface0 = "#282d3a",
		base = "#1e212b",
		mantle = "#1a1c25",
		crust = "#16181f",
		accent = "#98a2b5",
	},
	["orbital-stone"] = {
		rosewater = "#ff6188",
		flamingo = "#fc9867",
		pink = "#e991e3",
		mauve = "#ab9df2",
		red = "#fc6a67",
		maroon = "#ff6188",
		peach = "#fc9867",
		yellow = "#ffd866",
		green = "#a9dc76",
		teal = "#78e8c6",
		sky = "#78dce8",
		sapphire = "#78dce8",
		blue = "#78dce8",
		lavender = "#ab9df2",
		text = "#dee0e4",
		subtext1 = "#c2c6cd",
		subtext0 = "#b4b9c1",
		overlay2 = "#989eaa",
		overlay1 = "#7c8493",
		overlay0 = "#646b79",
		surface2 = "#4d525d",
		surface1 = "#41464f",
		surface0 = "#363941",
		base = "#2A2D33",
		mantle = "#25282d",
		crust = "#212328",
		accent = "#9AA2A6",
	},
	["djinn-ifrit"] = {
		rosewater = "#FF478D",
		flamingo = "#FF7135",
		pink = "#E66DFF",
		mauve = "#A95EFF",
		red = "#D62C2C",
		maroon = "#FF478D",
		peach = "#FF7135",
		yellow = "#FFB638",
		green = "#42DD76",
		teal = "#14E5D4",
		sky = "#28A9FF",
		sapphire = "#28A9FF",
		blue = "#28A9FF",
		lavender = "#A95EFF",
		text = "#c7bfe8",
		subtext1 = "#a599db",
		subtext0 = "#9486d5",
		overlay2 = "#7360c8",
		overlay1 = "#553fb6",
		overlay0 = "#433290",
		surface2 = "#32256a",
		surface1 = "#291e57",
		surface0 = "#201844",
		base = "#171131",
		mantle = "#130e29",
		crust = "#100c22",
		accent = "#A680FF",
	},
	["djinn-void"] = {
		rosewater = "#FF478D",
		flamingo = "#FF7135",
		pink = "#E66DFF",
		mauve = "#A95EFF",
		red = "#D62C2C",
		maroon = "#FF478D",
		peach = "#FF7135",
		yellow = "#FFB638",
		green = "#42DD76",
		teal = "#14E5D4",
		sky = "#28A9FF",
		sapphire = "#28A9FF",
		blue = "#28A9FF",
		lavender = "#A95EFF",
		text = "#c5c5cb",
		subtext1 = "#a9a9b4",
		subtext0 = "#9b9ba8",
		overlay2 = "#808091",
		overlay1 = "#676776",
		overlay0 = "#4f4f5b",
		surface2 = "#383840",
		surface1 = "#2c2c32",
		surface0 = "#202025",
		base = "#141417",
		mantle = "#0f0f12",
		crust = "#0b0b0c",
		accent = "#AAAAAA",
	},
	["sahara-onyx"] = {
		rosewater = "#EC7886",
		flamingo = "#ffaa7d",
		pink = "#e4a3df",
		mauve = "#bc98ff",
		red = "#fd604f",
		maroon = "#EC7886",
		peach = "#ffaa7d",
		yellow = "#F5DF76",
		green = "#AFEA7B",
		teal = "#22D3B1",
		sky = "#7fd7f5",
		sapphire = "#7fd7f5",
		blue = "#7fd7f5",
		lavender = "#bc98ff",
		text = "#c8c8d5",
		subtext1 = "#aaaac0",
		subtext0 = "#9c9cb5",
		overlay2 = "#7f7f9f",
		overlay1 = "#656586",
		overlay0 = "#4f4f69",
		surface2 = "#39394c",
		surface1 = "#2e2e3d",
		surface0 = "#23232f",
		base = "#181820",
		mantle = "#14141a",
		crust = "#0f0f14",
		accent = "#dbdeea",
	},
	["sahara-cosmos"] = {
		rosewater = "#EC7886",
		flamingo = "#ffaa7d",
		pink = "#e4a3df",
		mauve = "#bc98ff",
		red = "#fd604f",
		maroon = "#EC7886",
		peach = "#ffaa7d",
		yellow = "#F5DF76",
		green = "#AFEA7B",
		teal = "#22D3B1",
		sky = "#7fd7f5",
		sapphire = "#7fd7f5",
		blue = "#7fd7f5",
		lavender = "#bc98ff",
		text = "#c3d2de",
		subtext1 = "#a1b9cd",
		subtext0 = "#91adc4",
		overlay2 = "#7094b2",
		overlay1 = "#537b9b",
		overlay0 = "#42617a",
		surface2 = "#304759",
		surface1 = "#273948",
		surface0 = "#1e2c38",
		base = "#151f27",
		mantle = "#111a20",
		crust = "#0e141a",
		accent = "#dbefff",
	},
	["nebula-sapphire"] = {
		rosewater = "#c62f52",
		flamingo = "#d4770c",
		pink = "#d46ec0",
		mauve = "#a85ff1",
		red = "#E35535",
		maroon = "#c62f52",
		peach = "#d4770c",
		yellow = "#c7910c",
		green = "#00a884",
		teal = "#38c7bd",
		sky = "#11B7D4",
		sapphire = "#11B7D4",
		blue = "#11B7D4",
		lavender = "#a85ff1",
		text = "#bec6d0",
		subtext1 = "#a0acbb",
		subtext0 = "#919eb1",
		overlay2 = "#73849c",
		overlay1 = "#5b6b80",
		overlay0 = "#465263",
		surface2 = "#313945",
		surface1 = "#262d36",
		surface0 = "#1c2027",
		base = "#111418",
		mantle = "#0d0f12",
		crust = "#090a0c",
		accent = "#11B7D4",
	},
	["nebula-amber"] = {
		rosewater = "#c62f52",
		flamingo = "#d4770c",
		pink = "#d46ec0",
		mauve = "#a85ff1",
		red = "#E35535",
		maroon = "#c62f52",
		peach = "#d4770c",
		yellow = "#c7910c",
		green = "#00a884",
		teal = "#38c7bd",
		sky = "#11B7D4",
		sapphire = "#11B7D4",
		blue = "#11B7D4",
		lavender = "#a85ff1",
		text = "#bec6d0",
		subtext1 = "#a0acbb",
		subtext0 = "#919eb1",
		overlay2 = "#73849c",
		overlay1 = "#5b6b80",
		overlay0 = "#465263",
		surface2 = "#313945",
		surface1 = "#262d36",
		surface0 = "#1c2027",
		base = "#111418",
		mantle = "#0d0f12",
		crust = "#090a0c",
		accent = "#c7910c",
	},
	["nebula-crimson"] = {
		rosewater = "#c62f52",
		flamingo = "#d4770c",
		pink = "#d46ec0",
		mauve = "#a85ff1",
		red = "#E35535",
		maroon = "#c62f52",
		peach = "#d4770c",
		yellow = "#c7910c",
		green = "#00a884",
		teal = "#38c7bd",
		sky = "#11B7D4",
		sapphire = "#11B7D4",
		blue = "#11B7D4",
		lavender = "#a85ff1",
		text = "#bec6d0",
		subtext1 = "#a0acbb",
		subtext0 = "#919eb1",
		overlay2 = "#73849c",
		overlay1 = "#5b6b80",
		overlay0 = "#465263",
		surface2 = "#313945",
		surface1 = "#262d36",
		surface0 = "#1c2027",
		base = "#111418",
		mantle = "#0d0f12",
		crust = "#090a0c",
		accent = "#c62f52",
	},
	["nebula-jade"] = {
		rosewater = "#c62f52",
		flamingo = "#d4770c",
		pink = "#d46ec0",
		mauve = "#a85ff1",
		red = "#E35535",
		maroon = "#c62f52",
		peach = "#d4770c",
		yellow = "#c7910c",
		green = "#00a884",
		teal = "#38c7bd",
		sky = "#11B7D4",
		sapphire = "#11B7D4",
		blue = "#11B7D4",
		lavender = "#a85ff1",
		text = "#bec6d0",
		subtext1 = "#a0acbb",
		subtext0 = "#919eb1",
		overlay2 = "#73849c",
		overlay1 = "#5b6b80",
		overlay0 = "#465263",
		surface2 = "#313945",
		surface1 = "#262d36",
		surface0 = "#1c2027",
		base = "#111418",
		mantle = "#0d0f12",
		crust = "#090a0c",
		accent = "#38c7bd",
	},
	["nebula-violet"] = {
		rosewater = "#c62f52",
		flamingo = "#d4770c",
		pink = "#d46ec0",
		mauve = "#a85ff1",
		red = "#E35535",
		maroon = "#c62f52",
		peach = "#d4770c",
		yellow = "#c7910c",
		green = "#00a884",
		teal = "#38c7bd",
		sky = "#11B7D4",
		sapphire = "#11B7D4",
		blue = "#11B7D4",
		lavender = "#a85ff1",
		text = "#bec6d0",
		subtext1 = "#a0acbb",
		subtext0 = "#919eb1",
		overlay2 = "#73849c",
		overlay1 = "#5b6b80",
		overlay0 = "#465263",
		surface2 = "#313945",
		surface1 = "#262d36",
		surface0 = "#1c2027",
		base = "#111418",
		mantle = "#0d0f12",
		crust = "#090a0c",
		accent = "#a85ff1",
	},
	["eva"] = {
		rosewater = "#e84545",
		flamingo = "#e8641b",
		pink = "#d44a8a",
		mauve = "#9b59b6",
		red = "#e01a1a",
		maroon = "#e84545",
		peach = "#e8641b",
		yellow = "#d4a017",
		green = "#5fa052",
		teal = "#2ba5a5",
		sky = "#4493c5",
		sapphire = "#4493c5",
		blue = "#4493c5",
		lavender = "#9b59b6",
		text = "#bdbdbd",
		subtext1 = "#a3a3a3",
		subtext0 = "#969696",
		overlay2 = "#7d7d7d",
		overlay1 = "#636363",
		overlay0 = "#4a4a4a",
		surface2 = "#303030",
		surface1 = "#242424",
		surface0 = "#171717",
		base = "#0a0a0a",
		mantle = "#050505",
		crust = "#000000",
		accent = "#e01a1a",
	},
	["eva-unit-01"] = {
		rosewater = "#e84545",
		flamingo = "#e8641b",
		pink = "#d44a8a",
		mauve = "#9b59b6",
		red = "#e01a1a",
		maroon = "#e84545",
		peach = "#e8641b",
		yellow = "#d4a017",
		green = "#5fa052",
		teal = "#2ba5a5",
		sky = "#4493c5",
		sapphire = "#4493c5",
		blue = "#4493c5",
		lavender = "#9b59b6",
		text = "#baaed5",
		subtext1 = "#9c8bc5",
		subtext0 = "#8e7abd",
		overlay2 = "#7158ab",
		overlay1 = "#5a468b",
		overlay0 = "#443569",
		surface2 = "#2e2447",
		surface1 = "#231b36",
		surface0 = "#181325",
		base = "#0d0a14",
		mantle = "#09070d",
		crust = "#040306",
		accent = "#9b59b6",
	},
	["eva-unit-02"] = {
		rosewater = "#e84545",
		flamingo = "#e8641b",
		pink = "#d44a8a",
		mauve = "#9b59b6",
		red = "#e01a1a",
		maroon = "#e84545",
		peach = "#e8641b",
		yellow = "#d4a017",
		green = "#5fa052",
		teal = "#2ba5a5",
		sky = "#4493c5",
		sapphire = "#4493c5",
		blue = "#4493c5",
		lavender = "#9b59b6",
		text = "#d5aeae",
		subtext1 = "#c58b8b",
		subtext0 = "#bd7a7a",
		overlay2 = "#ab5858",
		overlay1 = "#8b4646",
		overlay0 = "#693535",
		surface2 = "#472424",
		surface1 = "#361b1b",
		surface0 = "#251313",
		base = "#140a0a",
		mantle = "#0d0707",
		crust = "#060303",
		accent = "#e8641b",
	},
	["eva-terminal"] = {
		rosewater = "#e84545",
		flamingo = "#e8641b",
		pink = "#d44a8a",
		mauve = "#9b59b6",
		red = "#e01a1a",
		maroon = "#e84545",
		peach = "#e8641b",
		yellow = "#d4a017",
		green = "#5fa052",
		teal = "#2ba5a5",
		sky = "#4493c5",
		sapphire = "#4493c5",
		blue = "#4493c5",
		lavender = "#9b59b6",
		text = "#b3cbb3",
		subtext1 = "#94b794",
		subtext0 = "#84ad84",
		overlay2 = "#669966",
		overlay1 = "#517a51",
		overlay0 = "#3d5c3d",
		surface2 = "#293d29",
		surface1 = "#1e2e1e",
		surface0 = "#141e14",
		base = "#0a0f0a",
		mantle = "#060906",
		crust = "#020302",
		accent = "#5fa052",
	},
	["eva-geofront"] = {
		rosewater = "#e84545",
		flamingo = "#e8641b",
		pink = "#d44a8a",
		mauve = "#9b59b6",
		red = "#e01a1a",
		maroon = "#e84545",
		peach = "#e8641b",
		yellow = "#d4a017",
		green = "#5fa052",
		teal = "#2ba5a5",
		sky = "#4493c5",
		sapphire = "#4493c5",
		blue = "#4493c5",
		lavender = "#9b59b6",
		text = "#b1b1ce",
		subtext1 = "#9191bb",
		subtext0 = "#8282b1",
		overlay2 = "#62629d",
		overlay1 = "#4f4f7e",
		overlay0 = "#3b3b5e",
		surface2 = "#27273f",
		surface1 = "#1e1e2f",
		surface0 = "#141420",
		base = "#0a0a10",
		mantle = "#06060a",
		crust = "#020203",
		accent = "#4493c5",
	},
	["eva-soft"] = {
		rosewater = "#e84545",
		flamingo = "#e8641b",
		pink = "#d44a8a",
		mauve = "#9b59b6",
		red = "#e01a1a",
		maroon = "#e84545",
		peach = "#e8641b",
		yellow = "#d4a017",
		green = "#5fa052",
		teal = "#2ba5a5",
		sky = "#4493c5",
		sapphire = "#4493c5",
		blue = "#4493c5",
		lavender = "#9b59b6",
		text = "#d2bfc4",
		subtext1 = "#bea0a8",
		subtext0 = "#b3919a",
		overlay2 = "#9e737e",
		overlay1 = "#835b65",
		overlay0 = "#65464e",
		surface2 = "#473137",
		surface1 = "#38272b",
		surface0 = "#291c20",
		base = "#1a1214",
		mantle = "#140e0f",
		crust = "#0e0a0b",
		accent = "#e01a1a",
	},
	["adam"] = {
		rosewater = "#e84545",
		flamingo = "#e8641b",
		pink = "#d44a8a",
		mauve = "#9b59b6",
		red = "#e01a1a",
		maroon = "#e84545",
		peach = "#e8641b",
		yellow = "#d4a017",
		green = "#2ecc71",
		teal = "#2ba5a5",
		sky = "#4493c5",
		sapphire = "#4493c5",
		blue = "#4493c5",
		lavender = "#9b59b6",
		text = "#bdbdbd",
		subtext1 = "#a3a3a3",
		subtext0 = "#969696",
		overlay2 = "#7d7d7d",
		overlay1 = "#636363",
		overlay0 = "#4a4a4a",
		surface2 = "#303030",
		surface1 = "#242424",
		surface0 = "#171717",
		base = "#0a0a0a",
		mantle = "#050505",
		crust = "#000000",
		accent = "#2ecc71",
	},
	["adam-oasis"] = {
		rosewater = "#e84545",
		flamingo = "#e8641b",
		pink = "#d44a8a",
		mauve = "#9b59b6",
		red = "#e01a1a",
		maroon = "#e84545",
		peach = "#e8641b",
		yellow = "#d4a017",
		green = "#2ecc71",
		teal = "#2ba5a5",
		sky = "#4493c5",
		sapphire = "#4493c5",
		blue = "#4493c5",
		lavender = "#9b59b6",
		text = "#b1cec9",
		subtext1 = "#91bbb4",
		subtext0 = "#82b1a9",
		overlay2 = "#629d93",
		overlay1 = "#4f7e76",
		overlay0 = "#3b5e59",
		surface2 = "#273f3b",
		surface1 = "#1e2f2c",
		surface0 = "#14201e",
		base = "#0a100f",
		mantle = "#060a09",
		crust = "#020303",
		accent = "#1abc9c",
	},
	["adam-eden"] = {
		rosewater = "#e84545",
		flamingo = "#e8641b",
		pink = "#d44a8a",
		mauve = "#9b59b6",
		red = "#e01a1a",
		maroon = "#e84545",
		peach = "#e8641b",
		yellow = "#d4a017",
		green = "#2ecc71",
		teal = "#2ba5a5",
		sky = "#4493c5",
		sapphire = "#4493c5",
		blue = "#4493c5",
		lavender = "#9b59b6",
		text = "#cbc6b3",
		subtext1 = "#b7b094",
		subtext0 = "#ada584",
		overlay2 = "#998f66",
		overlay1 = "#7a7251",
		overlay0 = "#5c553d",
		surface2 = "#3d3929",
		surface1 = "#2e2b1e",
		surface0 = "#1e1c14",
		base = "#0f0e0a",
		mantle = "#090806",
		crust = "#030302",
		accent = "#d4b42a",
	},
	["adam-jade"] = {
		rosewater = "#e84545",
		flamingo = "#e8641b",
		pink = "#d44a8a",
		mauve = "#9b59b6",
		red = "#e01a1a",
		maroon = "#e84545",
		peach = "#e8641b",
		yellow = "#d4a017",
		green = "#2ecc71",
		teal = "#2ba5a5",
		sky = "#4493c5",
		sapphire = "#4493c5",
		blue = "#4493c5",
		lavender = "#9b59b6",
		text = "#aeccc0",
		subtext1 = "#8eb9a8",
		subtext0 = "#7eb09c",
		overlay2 = "#5f9b83",
		overlay1 = "#4c7c69",
		overlay0 = "#395c4e",
		surface2 = "#253c33",
		surface1 = "#1b2d26",
		surface0 = "#121d18",
		base = "#080d0b",
		mantle = "#040706",
		crust = "#000000",
		accent = "#27ae60",
	},
	["adam-soft"] = {
		rosewater = "#e84545",
		flamingo = "#e8641b",
		pink = "#d44a8a",
		mauve = "#9b59b6",
		red = "#e01a1a",
		maroon = "#e84545",
		peach = "#e8641b",
		yellow = "#d4a017",
		green = "#2ecc71",
		teal = "#2ba5a5",
		sky = "#4493c5",
		sapphire = "#4493c5",
		blue = "#4493c5",
		lavender = "#9b59b6",
		text = "#bfd2c4",
		subtext1 = "#a0bea8",
		subtext0 = "#91b39a",
		overlay2 = "#739e7e",
		overlay1 = "#5b8365",
		overlay0 = "#46654e",
		surface2 = "#314737",
		surface1 = "#27382b",
		surface0 = "#1c2920",
		base = "#121a14",
		mantle = "#0e140f",
		crust = "#0a0e0b",
		accent = "#2ecc71",
	},
	["adam-midnight"] = {
		rosewater = "#e84545",
		flamingo = "#e8641b",
		pink = "#d44a8a",
		mauve = "#9b59b6",
		red = "#e01a1a",
		maroon = "#e84545",
		peach = "#e8641b",
		yellow = "#d4a017",
		green = "#2ecc71",
		teal = "#2ba5a5",
		sky = "#4493c5",
		sapphire = "#4493c5",
		blue = "#4493c5",
		lavender = "#9b59b6",
		text = "#bdbdbd",
		subtext1 = "#a3a3a3",
		subtext0 = "#969696",
		overlay2 = "#7d7d7d",
		overlay1 = "#636363",
		overlay0 = "#4a4a4a",
		surface2 = "#303030",
		surface1 = "#242424",
		surface0 = "#171717",
		base = "#0a0a0a",
		mantle = "#050505",
		crust = "#000000",
		accent = "#58d68d",
	},
	["nur"] = {
		rosewater = "#e8386a",
		flamingo = "#d06200",
		pink = "#e022b4",
		mauve = "#8737e6",
		red = "#d03333",
		maroon = "#e8386a",
		peach = "#d06200",
		yellow = "#bb9600",
		green = "#189433",
		teal = "#009999",
		sky = "#0073d1",
		sapphire = "#0073d1",
		blue = "#0073d1",
		lavender = "#8737e6",
		text = "#091316",
		subtext1 = "#5e6871",
		subtext0 = "#6a757f",
		overlay2 = "#76818d",
		overlay1 = "#929ba4",
		overlay0 = "#adb4bb",
		surface2 = "#bbc1c7",
		surface1 = "#c9ced2",
		surface0 = "#d7dbde",
		base = "#f3f4f5",
		mantle = "#e8eaec",
		crust = "#dde0e2",
		accent = "#22a5c9",
	},
	["nur-cherry"] = {
		rosewater = "#da2a5f",
		flamingo = "#b96000",
		pink = "#c121a4",
		mauve = "#7522d3",
		red = "#d12525",
		maroon = "#da2a5f",
		peach = "#b96000",
		yellow = "#c08403",
		green = "#008b17",
		teal = "#008f8f",
		sky = "#0076c5",
		sapphire = "#0076c5",
		blue = "#0076c5",
		lavender = "#7522d3",
		text = "#15070b",
		subtext1 = "#784958",
		subtext0 = "#885264",
		overlay2 = "#975c70",
		overlay1 = "#ad798b",
		overlay0 = "#c199a6",
		surface2 = "#caa9b4",
		surface1 = "#d4b8c2",
		surface0 = "#dec8cf",
		base = "#f1e8eb",
		mantle = "#e9dbe0",
		crust = "#e2cfd5",
		accent = "#d1174f",
	},
	["nur-mint"] = {
		rosewater = "#da2a5f",
		flamingo = "#b96000",
		pink = "#c121a4",
		mauve = "#7522d3",
		red = "#d12525",
		maroon = "#da2a5f",
		peach = "#b96000",
		yellow = "#c08403",
		green = "#008b17",
		teal = "#008f8f",
		sky = "#0076c5",
		sapphire = "#0076c5",
		blue = "#0076c5",
		lavender = "#7522d3",
		text = "#000000",
		subtext1 = "#507856",
		subtext0 = "#5a8762",
		overlay2 = "#64966d",
		overlay1 = "#82ac89",
		overlay0 = "#a1c0a6",
		surface2 = "#b0cab4",
		surface1 = "#bfd4c3",
		surface0 = "#cedfd1",
		base = "#edf3ee",
		mantle = "#e1ebe2",
		crust = "#d5e3d7",
		accent = "#2a9b7d",
	},
	["nur-grape"] = {
		rosewater = "#da2a5f",
		flamingo = "#b96000",
		pink = "#c121a4",
		mauve = "#7522d3",
		red = "#d12525",
		maroon = "#da2a5f",
		peach = "#b96000",
		yellow = "#c08403",
		green = "#008b17",
		teal = "#008f8f",
		sky = "#0076c5",
		sapphire = "#0076c5",
		blue = "#0076c5",
		lavender = "#7522d3",
		text = "#07060c",
		subtext1 = "#3e3b70",
		subtext0 = "#474481",
		overlay2 = "#514d92",
		overlay1 = "#6864ad",
		overlay0 = "#8985bf",
		surface2 = "#9996c8",
		surface1 = "#a9a7d1",
		surface0 = "#b9b8d9",
		base = "#dad9eb",
		mantle = "#cdcce4",
		crust = "#c0bedd",
		accent = "#422eb0",
	},
	["nur-peach"] = {
		rosewater = "#da2a5f",
		flamingo = "#b96000",
		pink = "#c121a4",
		mauve = "#7522d3",
		red = "#d12525",
		maroon = "#da2a5f",
		peach = "#b96000",
		yellow = "#c08403",
		green = "#008b17",
		teal = "#008f8f",
		sky = "#0076c5",
		sapphire = "#0076c5",
		blue = "#0076c5",
		lavender = "#7522d3",
		text = "#221610",
		subtext1 = "#8b5938",
		subtext0 = "#9d653f",
		overlay2 = "#af7046",
		overlay1 = "#c28b67",
		overlay0 = "#d1a78b",
		surface2 = "#d8b59d",
		surface1 = "#dfc2af",
		surface0 = "#e6d0c2",
		base = "#f5ece6",
		mantle = "#efe1d7",
		crust = "#e9d6c9",
		accent = "#d4652a",
	},
	["nur-lavender"] = {
		rosewater = "#da2a5f",
		flamingo = "#b96000",
		pink = "#c121a4",
		mauve = "#7522d3",
		red = "#d12525",
		maroon = "#da2a5f",
		peach = "#b96000",
		yellow = "#c08403",
		green = "#008b17",
		teal = "#008f8f",
		sky = "#0076c5",
		sapphire = "#0076c5",
		blue = "#0076c5",
		lavender = "#7522d3",
		text = "#201c27",
		subtext1 = "#644380",
		subtext0 = "#714b91",
		overlay2 = "#7e54a1",
		overlay1 = "#9773b6",
		overlay0 = "#b094c7",
		surface2 = "#bca5d0",
		surface1 = "#c9b6d9",
		surface0 = "#d5c6e2",
		base = "#eee8f3",
		mantle = "#e4dbec",
		crust = "#dacde5",
		accent = "#7b4fbf",
	},
	["hc-obsidian"] = {
		rosewater = "#EC7886",
		flamingo = "#ffaa7d",
		pink = "#e4a3df",
		mauve = "#bc98ff",
		red = "#fd604f",
		maroon = "#EC7886",
		peach = "#ffaa7d",
		yellow = "#F5DF76",
		green = "#AFEA7B",
		teal = "#22D3B1",
		sky = "#7fd7f5",
		sapphire = "#7fd7f5",
		blue = "#7fd7f5",
		lavender = "#bc98ff",
		text = "#bcbcc9",
		subtext1 = "#9e9eb4",
		subtext0 = "#9090a9",
		overlay2 = "#737392",
		overlay1 = "#5c5c76",
		overlay0 = "#46465a",
		surface2 = "#2f2f3d",
		surface1 = "#24242f",
		surface0 = "#191920",
		base = "#0e0e12",
		mantle = "#0a0a0c",
		crust = "#050507",
		accent = "#dbdeea",
	},
	["hc-storm"] = {
		rosewater = "#f994bf",
		flamingo = "#ffaf94",
		pink = "#f1c6ee",
		mauve = "#b8b3ff",
		red = "#ff7e70",
		maroon = "#f994bf",
		peach = "#ffaf94",
		yellow = "#fff0a6",
		green = "#9dffbd",
		teal = "#22D3B1",
		sky = "#82c4ff",
		sapphire = "#82c4ff",
		blue = "#82c4ff",
		lavender = "#b8b3ff",
		text = "#c0dcf3",
		subtext1 = "#94c5ec",
		subtext0 = "#7fb9e8",
		overlay2 = "#54a2e0",
		overlay1 = "#288ad8",
		overlay0 = "#206fae",
		surface2 = "#185383",
		surface1 = "#14456d",
		surface0 = "#103858",
		base = "#0c2a42",
		mantle = "#0a2539",
		crust = "#091f31",
		accent = "#9dffd9",
	},
	["hc-abyss"] = {
		rosewater = "#EC7886",
		flamingo = "#ffaa7d",
		pink = "#e4a3df",
		mauve = "#bc98ff",
		red = "#fd604f",
		maroon = "#EC7886",
		peach = "#ffaa7d",
		yellow = "#F5DF76",
		green = "#AFEA7B",
		teal = "#22D3B1",
		sky = "#7fd7f5",
		sapphire = "#7fd7f5",
		blue = "#7fd7f5",
		lavender = "#bc98ff",
		text = "#aaaad3",
		subtext1 = "#8787c3",
		subtext0 = "#7676bb",
		overlay2 = "#5454a9",
		overlay1 = "#434387",
		overlay0 = "#333365",
		surface2 = "#212143",
		surface1 = "#191932",
		surface0 = "#101021",
		base = "#080810",
		mantle = "#050509",
		crust = "#010102",
		accent = "#f0f0ff",
	},
	["hc-ivory"] = {
		rosewater = "#ed7b89",
		flamingo = "#e3946a",
		pink = "#f08ad9",
		mauve = "#b377e3",
		red = "#ee5f50",
		maroon = "#ed7b89",
		peach = "#e3946a",
		yellow = "#e39c03",
		green = "#41ad4e",
		teal = "#00b696",
		sky = "#0aa3d6",
		sapphire = "#0aa3d6",
		blue = "#0aa3d6",
		lavender = "#b377e3",
		text = "#272d34",
		subtext1 = "#3264a7",
		subtext0 = "#3870ba",
		overlay2 = "#447cc7",
		overlay1 = "#6c98d3",
		overlay0 = "#93b3df",
		surface2 = "#a7c1e4",
		surface1 = "#bacfea",
		surface0 = "#ceddf0",
		base = "#f5f8fc",
		mantle = "#e5edf7",
		crust = "#d6e2f3",
		accent = "#444c54",
	},
}

local mappings = {
	["qadr-fajr"] = "Nerv Dark - Qadr Fajr",
	["qadr-layl"] = "Nerv Dark - Qadr Layl",
	["qadr-najm"] = "Nerv Dark - Qadr Najm",
	["orbital-terra"] = "Nerv Dark - Orbital Terra",
	["orbital-steel"] = "Nerv Dark - Orbital Steel",
	["orbital-stone"] = "Nerv Dark - Orbital Stone",
	["djinn-ifrit"] = "Nerv Dark - Djinn Ifrit",
	["djinn-void"] = "Nerv Dark - Djinn Void",
	["sahara-onyx"] = "Nerv Dark - Sahara Onyx",
	["sahara-cosmos"] = "Nerv Dark - Sahara Cosmos",
	["nebula-sapphire"] = "Nerv Dark - Nebula Sapphire",
	["nebula-amber"] = "Nerv Dark - Nebula Amber",
	["nebula-crimson"] = "Nerv Dark - Nebula Crimson",
	["nebula-jade"] = "Nerv Dark - Nebula Jade",
	["nebula-violet"] = "Nerv Dark - Nebula Violet",
	["eva"] = "Nerv Dark - Eva",
	["eva-unit-01"] = "Nerv Dark - Eva Unit-01",
	["eva-unit-02"] = "Nerv Dark - Eva Unit-02",
	["eva-terminal"] = "Nerv Dark - Eva Terminal",
	["eva-geofront"] = "Nerv Dark - Eva Geofront",
	["eva-soft"] = "Nerv Dark - Eva Soft",
	["adam"] = "Nerv Dark - Adam",
	["adam-oasis"] = "Nerv Dark - Adam Oasis",
	["adam-eden"] = "Nerv Dark - Adam Eden",
	["adam-jade"] = "Nerv Dark - Adam Jade",
	["adam-soft"] = "Nerv Dark - Adam Soft",
	["adam-midnight"] = "Nerv Dark - Adam Midnight",
	["nur"] = "Nerv Light - Nūr",
	["nur-cherry"] = "Nerv Light - Nūr Cherry",
	["nur-mint"] = "Nerv Light - Nūr Mint",
	["nur-grape"] = "Nerv Light - Nūr Grape",
	["nur-peach"] = "Nerv Light - Nūr Peach",
	["nur-lavender"] = "Nerv Light - Nūr Lavender",
	["hc-obsidian"] = "Nerv HC - HC Obsidian",
	["hc-storm"] = "Nerv HC - HC Storm",
	["hc-abyss"] = "Nerv HC - HC Abyss",
	["hc-ivory"] = "Nerv HC - HC Ivory",
}

function M.select(palette, flavor, accent)
	local c = palette[flavor]
	if not c then
		error("Unknown flavor: " .. tostring(flavor))
	end

	local isDark = c.base:sub(2, 3):lower() < "80"
	local accentColor = accent and c[accent] or c.accent

	return {
		foreground = c.text,
		background = c.base,

		cursor_fg = isDark and c.crust or c.base,
		cursor_bg = c.rosewater,
		cursor_border = c.rosewater,

		selection_fg = c.text,
		selection_bg = c.surface2,

		scrollbar_thumb = c.surface2,

		split = c.overlay0,

		ansi = {
			isDark and c.surface1 or c.subtext1,
			c.red,
			c.green,
			c.yellow,
			c.blue,
			c.pink,
			c.teal,
			isDark and c.subtext1 or c.surface2,
		},

		brights = {
			isDark and c.surface2 or c.subtext0,
			c.red,
			c.green,
			c.yellow,
			c.blue,
			c.pink,
			c.teal,
			isDark and c.subtext0 or c.surface1,
		},

		indexed = { [16] = c.peach, [17] = c.rosewater },

		compose_cursor = c.flamingo,

		tab_bar = {
			background = c.crust,
			active_tab = {
				bg_color = accentColor,
				fg_color = isDark and c.crust or "#ffffff",
			},
			inactive_tab = {
				bg_color = c.mantle,
				fg_color = c.text,
			},
			inactive_tab_hover = {
				bg_color = c.base,
				fg_color = c.text,
			},
			new_tab = {
				bg_color = c.surface0,
				fg_color = c.text,
			},
			new_tab_hover = {
				bg_color = c.surface1,
				fg_color = c.text,
			},
			inactive_tab_edge = c.surface0,
		},

		visual_bell = c.surface0,
	}
end

local function select_for_appearance(appearance, options)
	if appearance:find("Dark") then
		return options.dark
	else
		return options.light
	end
end

local function tableMerge(t1, t2)
	for k, v in pairs(t2) do
		if type(v) == "table" then
			if type(t1[k] or false) == "table" then
				tableMerge(t1[k] or {}, t2[k] or {})
			else
				t1[k] = v
			end
		else
			t1[k] = v
		end
	end
	return t1
end

function M.apply_to_config(c, opts)
	if not opts then
		opts = {}
	end

	local defaults = {
		flavor = "qadr-fajr",
		accent = nil,
		sync = false,
		sync_flavors = { light = "nur", dark = "qadr-fajr" },
		color_overrides = {},
		token_overrides = {},
	}

	local o = tableMerge(defaults, opts)

	local color_schemes = {}
	local palette = tableMerge(colors, o.color_overrides)
	for flavor, name in pairs(mappings) do
		local spec = M.select(palette, flavor, o.accent)
		local overrides = o.token_overrides[flavor] or {}
		color_schemes[name] = tableMerge(spec, overrides)
	end
	if c.color_schemes == nil then
		c.color_schemes = {}
	end
	c.color_schemes = tableMerge(c.color_schemes, color_schemes)

	if opts.sync then
		c.color_scheme = select_for_appearance(wezterm.gui.get_appearance(), {
			dark = mappings[o.sync_flavors.dark],
			light = mappings[o.sync_flavors.light],
		})
		c.command_palette_bg_color = select_for_appearance(wezterm.gui.get_appearance(), {
			dark = colors[o.sync_flavors.dark].crust,
			light = colors[o.sync_flavors.light].crust,
		})
		c.command_palette_fg_color = select_for_appearance(wezterm.gui.get_appearance(), {
			dark = colors[o.sync_flavors.dark].text,
			light = colors[o.sync_flavors.light].text,
		})
	else
		c.color_scheme = mappings[o.flavor]
		c.command_palette_bg_color = colors[o.flavor].crust
		c.command_palette_fg_color = colors[o.flavor].text
	end

	local window_frame = {
		active_titlebar_bg = colors[o.flavor].crust,
		active_titlebar_fg = colors[o.flavor].text,
		inactive_titlebar_bg = colors[o.flavor].crust,
		inactive_titlebar_fg = colors[o.flavor].text,
		button_fg = colors[o.flavor].text,
		button_bg = colors[o.flavor].base,
	}

	if c.window_frame == nil then
		c.window_frame = {}
	end
	c.window_frame = tableMerge(c.window_frame, window_frame)
end

M.colors = colors
M.mappings = mappings

return M
